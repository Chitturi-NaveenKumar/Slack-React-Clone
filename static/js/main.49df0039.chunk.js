(this["webpackJsonpslack-react-clone"]=this["webpackJsonpslack-react-clone"]||[]).push([[0],{147:function(e,n,a){},168:function(e,n,a){e.exports=a(206)},186:function(e,n,a){},192:function(e,n,a){},196:function(e,n,a){},197:function(e,n,a){},203:function(e,n,a){},204:function(e,n,a){},206:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),c=a(45),l=a.n(c),o=a(23),u=a(12),i=a(47),s=a(119),m=a(225),d=a(230),f=a(231),h=a(69),p=a(224),E=a(156),g=a(128),v=a.n(g);a(183),a(184),a(185);v.a.initializeApp({apiKey:"AIzaSyCPyN4bHblGLX-miAfr1-XYHuMFyOvMAqg",authDomain:"slack-clone-73b7b.firebaseapp.com",databaseURL:"https://slack-clone-73b7b-default-rtdb.firebaseio.com/",projectId:"slack-clone-73b7b",storageBucket:"slack-clone-73b7b.appspot.com",messagingSenderId:"213037357193",appId:"1:213037357193:web:35800f39d061d3134f4e58",measurementId:"G-QWKD3RQ0K5"}),v.a.analytics();var b=v.a,C=(a(186),Object(o.b)((function(e){return{user:e.user.currentUser}}))((function(e){var n=function(){b.auth().signOut().then((function(){return console.log("user signed out")})),localStorage.removeItem("props.user.uid")};return e.user?r.a.createElement(d.a,null,r.a.createElement(d.a.Column,null,r.a.createElement(d.a.Row,{className:"userinfo_grid_row"},r.a.createElement(f.a,{inverted:!0,as:"h2"},r.a.createElement(h.a,{name:"slack"}),r.a.createElement(f.a.Content,null,"Slack")),r.a.createElement(f.a,{className:"userinfo_displayname",inverted:!0,as:"h4"},r.a.createElement(p.a,{trigger:r.a.createElement("span",null,r.a.createElement(E.a,{src:e.user.photoURL,avatar:!0}),e.user.displayName),options:[{key:"signout",text:r.a.createElement("span",{onClick:n},"Sign Out")}]}))))):null}))),O=a(31),j=a(43),y=a(10),S=function(e){return{type:"SET_CHANNEL",payload:{currentChannel:e}}},k=a(94),w=function(e){var n=b.database().ref("messages"),a=b.database().ref("users"),c=Object(t.useState)({}),l=Object(y.a)(c,2),o=l[0],u=l[1],i=Object(t.useState)({}),s=Object(y.a)(i,2),m=s[0],d=s[1];Object(t.useEffect)((function(){e.user&&(a.child(e.user.uid).child("lastVisited").on("value",(function(e){u(e.val())})),n.on("value",(function(e){var n=e.val();console.log(n);var a=Object.keys(n),t={};a.forEach((function(e){Object.keys(n[e]).reduce((function(a,r){t[e]=Object(j.a)(t[e]||[]),t[e].push(n[e][r].timestamp)}))})),d(t)})))}),[e.user]);return r.a.createElement(r.a.Fragment,null," ",e.displayName,function(n){if(o&&m&&e.channel&&e.channel.id!==n){var a=o[n],t=m[n];if(t){var c=t.filter((function(e){return!a||a<e})).length;return 0===c?null:r.a.createElement(k.a,{color:"red"},c)}}return null}(e.notificationChannelId)," ")},I=(a(192),a(228)),N=a(226),U=a(233),A=a(207),x=Object(o.b)((function(e){return{user:e.user.currentUser,channel:e.channel.currentChannel}}),(function(e){return{selectChannel:function(n){return e(S(n))}}}))((function(e){var n=Object(t.useState)(!1),a=Object(y.a)(n,2),c=a[0],l=a[1],o=Object(t.useState)({name:"",description:""}),u=Object(y.a)(o,2),i=u[0],s=u[1],d=Object(t.useState)(!1),f=Object(y.a)(d,2),p=f[0],E=f[1],g=Object(t.useState)([]),v=Object(y.a)(g,2),C=v[0],S=v[1],k=b.database().ref("channels"),x=b.database().ref("users");Object(t.useEffect)((function(){return k.on("child_added",(function(e){S((function(n){var a=Object(j.a)(n);return a.push(e.val()),a}))})),function(){return k.off()}}),[]),Object(t.useEffect)((function(){C.length>0&&e.selectChannel(C[0])}),[e.channel?null:C]);var P=function(){l(!1)},R=function(n){T(e.user,e.channel),T(e.user,n),e.selectChannel(n)},T=function(e,n){var a=x.child(e.uid).child("lastVisited").child(n.id);a.set(b.database.ServerValue.TIMESTAMP),a.onDisconnect().set(b.database.ServerValue.TIMESTAMP)},M=function(){if(i&&i.name&&i.description){var n=k.push().key,a={id:n,name:i.name,description:i.description,created_by:{name:e.user.displayName,avatar:e.user.photoURL}};E(!0),k.child(n).update(a).then((function(){s({name:"",description:""}),E(!1),P()})).catch((function(e){console.log(e)}))}},L=function(e){var n=e.target;s((function(e){var a=Object(O.a)({},e);return a[n.name]=n.value,a}))};return r.a.createElement(r.a.Fragment,null," ",r.a.createElement(m.a.Menu,{style:{marginTop:"35px"}},r.a.createElement(m.a.Item,{style:{fontSize:"17px"}},r.a.createElement("span",null,r.a.createElement(h.a,{name:"exchange"})," Channels"),"(",C.length,")"),function(){if(C.length>0)return C.map((function(n){return r.a.createElement(m.a.Item,{key:n.id,name:n.name,onClick:function(){return R(n)},active:e.channel&&n.id===e.channel.id&&!e.channel.isFavourite},r.a.createElement(w,{user:e.user,channel:e.channel,notificationChannelId:n.id,displayName:"# "+n.name}))}))}(),r.a.createElement(m.a.Item,null,r.a.createElement("span",{className:"clickable",onClick:function(){l(!0)}},r.a.createElement(h.a,{name:"add"})," ADD"))),r.a.createElement(I.a,{open:c,onClose:P},r.a.createElement(I.a.Header,null,"Create Channel"),r.a.createElement(I.a.Content,null,r.a.createElement(N.a,{onSubmit:M},r.a.createElement(U.a,{stacked:!0},r.a.createElement(N.a.Input,{name:"name",value:i.name,onChange:L,type:"text",placeholder:"Enter Channel Name"}),r.a.createElement(N.a.Input,{name:"description",value:i.description,onChange:L,type:"text",placeholder:"Enter Channel Description"})))),r.a.createElement(I.a.Actions,null,r.a.createElement(A.a,{loading:p,onClick:M},r.a.createElement(h.a,{name:"checkmark"})," Save"),r.a.createElement(A.a,{onClick:P},r.a.createElement(h.a,{name:"remove"})," Cancel"))))})),P=Object(o.b)((function(e){return{user:e.user.currentUser,channel:e.channel.currentChannel}}),(function(e){return{selectChannel:function(n){return e(S(n))}}}))((function(e){var n=Object(u.f)(),a=Object(t.useState)([]),c=Object(y.a)(a,2),l=c[0],o=c[1],i=Object(t.useState)([]),s=Object(y.a)(i,2),d=s[0],f=s[1],p=b.database().ref("users"),E=b.database().ref(".info/connected"),g=b.database().ref("status");Object(t.useEffect)((function(){return p.on("child_added",(function(e){o((function(n){var a=Object(j.a)(n),t=e.val();return t.name=t.displayName,t.id=e.key,t.isPrivateChat=!0,a.push(t),a}))})),E.on("value",(function(n){if(e.user&&n.val()){var a=g.child(e.user.uid);a.set(!0),a.onDisconnect().remove()}})),function(){p.off(),E.off()}}),[e.user]),Object(t.useEffect)((function(){return g.on("child_added",(function(e){f((function(n){var a=Object(j.a)(n);return a.push(e.key),a}))})),g.on("child_removed",(function(e){f((function(n){var a=Object(j.a)(n),t=a.indexOf(e.key);return a.splice(t,1),a}))})),function(){return g.off()}}),[l]);var v=function(n){var a=Object(O.a)({},n);a.id=S(n.id),C(e.user,e.channel),C(e.user,a),e.selectChannel(a)},C=function(e,n){var a=p.child(e.uid).child("lastVisited").child(n.id);a.set(b.database.ServerValue.TIMESTAMP),a.onDisconnect().set(b.database.ServerValue.TIMESTAMP)},S=function(n){return e.user.uid<n?e.user.uid+n:n+e.user.uid};return r.a.createElement(m.a.Menu,{style:{marginTop:"35px"}},r.a.createElement(m.a.Item,{style:{fontSize:"17px"}},r.a.createElement("span",null,r.a.createElement(h.a,{name:"mail"})," Direct Messages"),"(",l.length-1,")"),function(){try{if(l.length>0)return l.filter((function(n){return n.id!==e.user.uid})).map((function(n){return r.a.createElement(m.a.Item,{key:n.id,name:n.name,onClick:function(){return v(n)},active:e.channel&&S(n.id)===e.channel.id},r.a.createElement(h.a,{name:"circle",color:"".concat(-1!==d.indexOf(n.id)?"green":"red")}),r.a.createElement(w,{user:e.user,channel:e.channel,notificationChannelId:S(n.id),displayName:"@ "+n.name}))}))}catch(a){n.push("/login")}}())})),R=Object(o.b)((function(e){return{channel:e.channel.currentChannel,favouriteChannels:e.favouriteChannel.favouriteChannel}}),(function(e){return{selectChannel:function(n){return e(S(n))}}}))((function(e){return r.a.createElement(m.a.Menu,null,r.a.createElement(m.a.Item,{style:{fontSize:"17px"}},r.a.createElement("span",null,r.a.createElement(h.a,{name:"star"})," Starred"),"(",Object.keys(e.favouriteChannels).length,")"),function(){if(Object.keys(e.favouriteChannels).length>0)return Object.keys(e.favouriteChannels).map((function(n){return r.a.createElement(m.a.Item,{key:n,name:e.favouriteChannels[n],onClick:function(){return e.selectChannel({id:n,name:e.favouriteChannels[n],isFavourite:!0})},active:e.channel&&n===e.channel.id&&e.channel.isFavourite},"# "+e.favouriteChannels[n])}))}())})),T=(a(196),function(){return r.a.createElement(m.a,{vertical:!0,fixed:"left",borderless:!0,size:"large",className:"side_bar"},r.a.createElement(C,null),r.a.createElement(R,null),r.a.createElement(x,null),r.a.createElement(P,null))}),M=a(222),L=function(e){return r.a.createElement(U.a,{clearing:!0},r.a.createElement(f.a,{floated:"left",fluid:"true",as:"h2"},r.a.createElement("span",null,(e.isPrivateChat?"@ ":"# ")+e.channelName,!e.isPrivateChat&&r.a.createElement(h.a,{onClick:e.starChange,name:e.starred?"star":"star outline",color:e.starred?"yellow":"black"})),r.a.createElement(f.a.Subheader,null," ",e.uniqueUsers," User",1===e.uniqueUsers?"":"s")),r.a.createElement(f.a,{floated:"right"},r.a.createElement(M.a,{name:"search",icon:"search",placeholder:"Search Messages",size:"mini",onChange:e.searchTermChange})))},_=a(227),V=a(223),F=a(154);a(197);V.a.locale(F);var D=new V.a,z=function(e){return console.log(e.message.image),r.a.createElement(_.a,null,r.a.createElement(_.a.Avatar,{src:e.message.user.avatar}),r.a.createElement(_.a.Content,{className:e.ownMessage?"ownMessage":null},r.a.createElement(_.a.Author,{as:"a"},e.message.user.name),r.a.createElement(_.a.Metadata,null,D.format(e.message.timestamp)),e.message.image?r.a.createElement(E.a,{onLoad:e.imageLoaded,src:e.message.image}):r.a.createElement(_.a.Text,null,e.message.content)))},H=a(135),q=a.n(H),W=function(e){var n=Object(t.useState)(null),a=Object(y.a)(n,2),c=a[0],l=a[1],o=["image/png","image/jpeg"];return r.a.createElement(I.a,{basic:!0,open:e.open,onClose:e.onClose},r.a.createElement(I.a.Header,null,"Select a image"),r.a.createElement(I.a.Content,null,r.a.createElement(M.a,{type:"file",name:"file",onChange:function(e){var n=e.target.files[0];n&&l(n)},fluid:!0,label:"File Type (png , jpeg)"})),r.a.createElement(I.a.Actions,null,r.a.createElement(A.a,{color:"green",onClick:function(){c&&o.includes(q.a.lookup(c.name))&&(e.uploadImage(c,q.a.lookup(c.name)),e.onClose(),l(null))}},r.a.createElement(h.a,{name:"checkmark"}),"Add"),r.a.createElement(A.a,{color:"red",onClick:e.onClose},r.a.createElement(h.a,{name:"remove"}),"Cancel")))},G=a(155),K=a.n(G),B=Object(o.b)((function(e){return{user:e.user.currentUser,channel:e.channel.currentChannel}}))((function(e){var n=b.database().ref("messages"),a=b.storage().ref(),c=Object(t.useState)(""),l=Object(y.a)(c,2),o=l[0],u=l[1],i=Object(t.useState)(!1),s=Object(y.a)(i,2),m=s[0],d=s[1],f=function(a){(o||a)&&n.child(e.channel.id).push().set(function(n){return console.log("image url: "+n),{user:{avatar:e.user.photoURL,name:e.user.displayName,id:e.user.uid},content:o,image:n||"",timestamp:b.database.ServerValue.TIMESTAMP}}(a)).then((function(){return u("")})).catch((function(e){return console.log(e)}))};return r.a.createElement(U.a,null,r.a.createElement(M.a,{onChange:function(e){var n=e.target;u(n.value)},fluid:!0,name:"message",value:o,label:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("div",{onClick:function(){f()},style:{color:"white",backgroundColor:"#eb7a34",padding:"5px",marginLeft:"10px",borderRadius:"5px",cursor:"pointer"}},r.a.createElement(A.a,{icon:"send",color:"orange"}),"Add Reply"),r.a.createElement("div",{onClick:function(){return d(!0)},style:{color:"white",backgroundColor:"#3fc232",padding:"5px",marginLeft:"10px",borderRadius:"5px"}},r.a.createElement(A.a,{icon:"upload",color:"green"}),"Upload Media"))),labelPosition:"right"}),r.a.createElement(W,{uploadImage:function(e,n){var t="chat/images/".concat(K()(),".jpg");console.log("path "+e+n),a.child(t).put(e,{contentType:n}).then((function(e){e.ref.getDownloadURL().then((function(e){f(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},open:m,onClose:function(){return d(!1)}}))})),J=(a(203),Object(o.b)((function(e){return{channel:e.channel.currentChannel,user:e.user.currentUser,favouriteChannels:e.favouriteChannel.favouriteChannel}}),(function(e){return{setfavouriteChannel:function(n){return e(function(e){return{type:"SET_FAVOURITECHANNEL",payload:{favouriteChannel:e}}}(n))},removefavouriteChannel:function(n){return e(function(e){return{type:"REMOVE_FAVOURITECHANNEL",payload:{favouriteChannel:e}}}(n))}}}))((function(e){var n,a,c=Object(u.f)(),l=b.database().ref("messages"),o=b.database().ref("users"),i=Object(t.useState)([]),s=Object(y.a)(i,2),m=s[0],d=s[1],f=Object(t.useState)(""),h=Object(y.a)(f,2),p=h[0],E=h[1],g=Object(t.useRef)(),v=localStorage.getItem("props.user.uid");Object(t.useEffect)((function(){if(e.channel)return d([]),l.child(e.channel.id).on("child_added",(function(e){d((function(n){var a=Object(j.a)(n);return a.push(e.val()),a}))})),function(){return l.child(e.channel.id).off()}}),[e.channel]),Object(t.useEffect)((function(){if(e.user)return localStorage.setItem("props.user.uid",e.user.uid),o.child(e.user.uid).child("favourite").on("child_added",(function(n){e.setfavouriteChannel(n.val())})),o.child(e.user.uid).child("favourite").on("child_removed",(function(n){e.removefavouriteChannel(n.val())})),function(){return o.child(e.user.uid).child("favourite").off()}}),[e.user]),Object(t.useEffect)((function(){g.scrollIntoView({behavior:"smooth"})}),[m]);var C=function(){g.scrollIntoView({behavior:"smooth"})},O=function(){var e=new RegExp(p,"gi");return m.reduce((function(n,a){return(a.content&&a.content.match(e)||a.user.name.match(e))&&n.push(a),n}),[])},S=function(){var n;return Object.keys(e.favouriteChannels).includes(null===(n=e.channel)||void 0===n?void 0:n.id)};return r.a.createElement("div",{className:"messages"},r.a.createElement(L,{starChange:function(){var n=o.child(e.user.uid).child("favourite").child(e.channel.id);S()?n.remove():n.set({channelId:e.channel.id,channelName:e.channel.name})},starred:S(),isPrivateChat:null===(n=e.channel)||void 0===n?void 0:n.isPrivateChat,searchTermChange:function(e){var n=e.target;E(n.value)},channelName:null===(a=e.channel)||void 0===a?void 0:a.name,uniqueUsers:m.reduce((function(e,n){return e.includes(n.user.name)||e.push(n.user.name),e}),[]).length}),r.a.createElement(U.a,{className:"messagecontent"},r.a.createElement(_.a.Group,null,function(){var n=p?O():m;if(n.length>0)return null===e.user&&c.push("/login"),n.map((function(e){return r.a.createElement(z,{imageLoaded:C,ownMessage:e.user.id===v,key:e.timestamp,message:e})}))}(),r.a.createElement("div",{ref:function(e){return g=e}}))),r.a.createElement(B,null))})));a(204);var Q=function(){return r.a.createElement(d.a,{columns:"equal"},r.a.createElement(T,null),r.a.createElement(d.a.Column,{className:"messagepanel"},r.a.createElement(J,null)),r.a.createElement(d.a.Column,{width:3},r.a.createElement("span",null)))},X=a(229),Y=(a(147),function(){var e=Object(t.useState)({email:"",password:""}),n=Object(y.a)(e,2),a=n[0],c=n[1],l=Object(t.useState)(!1),o=Object(y.a)(l,2),u=o[0],s=o[1],m=Object(t.useState)([]),p=Object(y.a)(m,2),E=p[0],g=p[1],v=function(e){var n=e.target;c((function(e){var a=Object(O.a)({},e);return a[n.name]=n.value,a}))},C=function(){return!a.password.length||!a.email.length};return r.a.createElement(d.a,{verticalAlign:"middle",textAlign:"center",className:"grid-form"},r.a.createElement(d.a.Column,{style:{maxWidth:"500px"}},r.a.createElement(f.a,{icon:!0,as:"h2",color:"purple"},r.a.createElement(h.a,{name:"slack"}),"Login to ChatApp"),r.a.createElement(N.a,{onSubmit:function(e){g((function(){return[]})),C()&&(g((function(e){return e.concat({message:"Please fill in all fields"})})),1)||(s(!0),b.auth().signInWithEmailAndPassword(a.email,a.password).then((function(e){s(!1),console.log(e)})).catch((function(e){s(!1),g((function(n){return n.concat(e)}))})))}},r.a.createElement(U.a,{stacked:!0},r.a.createElement(N.a.Input,{name:"email",value:a.email,icon:"mail",iconPosition:"left",onChange:v,type:"email",placeholder:"User Email"}),r.a.createElement(N.a.Input,{name:"password",value:a.password,icon:"lock",iconPosition:"left",onChange:v,type:"password",placeholder:"User Password"})),r.a.createElement(A.a,{disabled:u,color:"purple",style:{width:"450px",fontSize:"18px"},loading:u},"Login")),E.length>0&&r.a.createElement(X.a,{error:!0},r.a.createElement("h3",null,"Errors"),E.map((function(e,n){return r.a.createElement("p",{key:n},e.message)}))),r.a.createElement(X.a,null,"Don't have an account? ",r.a.createElement(i.b,{to:"/register"},"Register"))))}),Z=function(){var e=b.database().ref("users"),n=Object(t.useState)({userName:"",email:"",password:"",confirmpassword:""}),a=Object(y.a)(n,2),c=a[0],l=a[1],o=Object(t.useState)([]),u=Object(y.a)(o,2),s=u[0],m=u[1],p=Object(t.useState)(!1),E=Object(y.a)(p,2),g=E[0],v=E[1],C=Object(t.useState)(!1),j=Object(y.a)(C,2),S=j[0],k=j[1],w=function(e){var n=e.target;l((function(e){var a=Object(O.a)({},e);return a[n.name]=n.value,a}))},I=function(){return!c.userName.length||!c.password.length||!c.confirmpassword.length||!c.email.length},x=function(){return c.password.length<8?(m((function(e){return e.concat({message:"Password length should be greater than 8"})})),!1):c.password===c.confirmpassword||(m((function(e){return e.concat({message:"Password and Confirm Password does not match"})})),!1)},P=function(e){e&&(v(!0),e.user.updateProfile({displayName:c.userName,photoURL:"http://gravatar.com/avatar/".concat(e.user.uid,"?d=identicon")}).then((function(){v(!1),R(e)})).catch((function(e){v(!1),m((function(n){return n.concat(e)}))})))},R=function(n){v(!0),e.child(n.user.uid).set({displayName:n.user.displayName,photoURL:n.user.photoURL}).then((function(){v(!1),k(!0)})).catch((function(e){v(!1),m((function(n){return n.concat(e)}))}))};return r.a.createElement(d.a,{verticalAlign:"middle",textAlign:"center",className:"grid-form"},r.a.createElement(d.a.Column,{style:{maxWidth:"500px"}},r.a.createElement(f.a,{icon:!0,as:"h2",color:"orange"},r.a.createElement(h.a,{name:"puzzle piece"}),"Register"),r.a.createElement(N.a,{onSubmit:function(e){m((function(){return[]})),k(!1),(I()?(m((function(e){return e.concat({message:"Please fill in all fields"})})),0):x())&&(v(!0),b.auth().createUserWithEmailAndPassword(c.email,c.password).then((function(e){v(!1),P(e)})).catch((function(e){v(!1),m((function(n){return n.concat(e)}))})))}},r.a.createElement(U.a,{stacked:!0},r.a.createElement(N.a.Input,{name:"userName",value:c.userName,icon:"user",iconPosition:"left",onChange:w,type:"text",placeholder:"User Name"}),r.a.createElement(N.a.Input,{name:"email",value:c.email,icon:"mail",iconPosition:"left",onChange:w,type:"email",placeholder:"User Email"}),r.a.createElement(N.a.Input,{name:"password",value:c.password,icon:"lock",iconPosition:"left",onChange:w,type:"password",placeholder:"User Password"}),r.a.createElement(N.a.Input,{name:"confirmpassword",value:c.confirmpassword,icon:"lock",iconPosition:"left",onChange:w,type:"password",placeholder:"Confirm Password"})),r.a.createElement(A.a,{disabled:g,color:"orange",style:{width:"450px",fontSize:"18px"},loading:g},"Register")),s.length>0&&r.a.createElement(X.a,{error:!0},r.a.createElement("h3",null,"Errors"),s.map((function(e,n){return r.a.createElement("p",{key:n},e.message)}))),S&&r.a.createElement(X.a,{success:!0},r.a.createElement("h3",null,"Successfully Registered")),r.a.createElement(X.a,null,"Already a user? ",r.a.createElement(i.b,{to:"/login"},"Login"))))},$={currentUser:null},ee={currentChannel:null,loading:!0},ne={favouriteChannel:{}},ae=Object(s.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,n=arguments.length>1?arguments[1]:void 0;if("SET_USER"===n.type){var a=n.payload;return e=Object(O.a)({},a)}return e},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,n=arguments.length>1?arguments[1]:void 0;if("SET_CHANNEL"===n.type){var a=n.payload;return(e=Object(O.a)({},a)).loading=!1,e}return e},favouriteChannel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0;if("SET_FAVOURITECHANNEL"===n.type){var a=n.payload.favouriteChannel,t=Object(O.a)({},e.favouriteChannel);return t[a.channelId]=a.channelName,{favouriteChannel:t}}if("REMOVE_FAVOURITECHANNEL"===n.type){var r=n.payload.favouriteChannel,c=Object(O.a)({},e.favouriteChannel);return delete c[r.channelId],{favouriteChannel:c}}return e}}),te=(a(205),Object(s.b)(ae)),re=Object(u.g)(Object(o.b)((function(e){return{currentUser:e.user.currentUser,loading:e.channel.loading}}),(function(e){return{setUser:function(n){e(function(e){return{type:"SET_USER",payload:{currentUser:e}}}(n))}}}))((function(e){return Object(t.useEffect)((function(){b.auth().onAuthStateChanged((function(n){n?(e.setUser(n),e.history.push("/")):(e.setUser(null),e.history.push("/login"))}))}),[]),console.log("Debug",e.currentUser),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/login",component:Y}),r.a.createElement(u.a,{path:"/register",component:Z}),r.a.createElement(u.a,{path:"/",component:Q})))})));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:te},r.a.createElement(i.a,null,r.a.createElement(re,null)))),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.49df0039.chunk.js.map